
=== [10.110.18.51] (tomcat) ===
[vmstat 1 10]
procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----
 r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st
 1  0      0 14029420   4920 49134828    0    0     2     8    0    1  2  1 97  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0 1599 2306  1  0 99  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0  356  524  0  0 100  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0  386  531  0  0 100  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0  266  430  0  0 100  0  0
 0  0      0 14020096   4920 49134828    0    0     0   128  430  549  0  0 100  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0  373  546  0  0 100  0  0
 0  0      0 14020096   4920 49134828    0    0     0     0  362  491  0  0 100  0  0
 1  0      0 14019604   4920 49134828    0    0     0     0  397  555  0  0 100  0  0
 1  0      0 14019604   4920 49134828    0    0     0     0  304  443  0  0 100  0  0

[df -k]
Filesystem               1K-blocks     Used  Available Use% Mounted on
/dev/mapper/system-root  574484480 39695308  533132388   7% /
devtmpfs                      4096        0       4096   0% /dev
tmpfs                     36913416        0   36913416   0% /dev/shm
efivarfs                       256       26        226  11% /sys/firmware/efi/efivars
tmpfs                     14765368   691388   14073980   5% /run
tmpfs                         1024        0       1024   0% /run/credentials/systemd-tmpfiles-setup-dev-early.service
tmpfs                         1024        0       1024   0% /run/credentials/systemd-sysctl.service
tmpfs                         1024        0       1024   0% /run/credentials/systemd-tmpfiles-setup-dev.service
tmpfs                         1024        0       1024   0% /run/credentials/systemd-vconsole-setup.service
/dev/mapper/system-root  574484480 39695308  533132388   7% /.snapshots
/dev/mapper/system-root  574484480 39695308  533132388   7% /boot/grub2/i386-pc
/dev/mapper/system-root  574484480 39695308  533132388   7% /boot/grub2/x86_64-efi
/dev/mapper/system-root  574484480 39695308  533132388   7% /home
/dev/mapper/system-root  574484480 39695308  533132388   7% /opt
/dev/mapper/system-root  574484480 39695308  533132388   7% /srv
/dev/mapper/system-root  574484480 39695308  533132388   7% /root
/dev/mapper/system-root  574484480 39695308  533132388   7% /tmp
/dev/mapper/system-root  574484480 39695308  533132388   7% /usr/local
/dev/mapper/system-root  574484480 39695308  533132388   7% /var
/dev/sda1                   130798     6030     124768   5% /boot/efi
/dev/mapper/sw-sw         16707584 12935916    3771668  78% /sw
tmpfs                         1024        0       1024   0% /run/credentials/systemd-tmpfiles-setup.service
10.110.11.153:/MAPS     4292749312 25062400 4267686912   1% /NASGW
tmpfs                      7382680       20    7382660   1% /run/user/41621
tmpfs                      7382680       20    7382660   1% /run/user/21783
tmpfs                      7382680       20    7382660   1% /run/user/9826
tmpfs                      7382680       20    7382660   1% /run/user/47666
tmpfs                      7382680       20    7382660   1% /run/user/15767
tmpfs                         1024        0       1024   0% /run/credentials/getty@tty1.service

[ps -ef | grep tomcat]
psi.syh+  7013  6812 22 15:50 ?        00:00:00 bash -c ps -ef | grep tomcat
psi.syh+  7101  7013  0 15:50 ?        00:00:00 grep tomcat
root     11498     1  0  5월13 ?      00:00:00 sudo vi /appwas/tomcat/apache-tomcat-9.0.87/conf/server.xml
root     11502 11498  0  5월13 pts/1  00:00:00 sudo vi /appwas/tomcat/apache-tomcat-9.0.87/conf/server.xml
root     11503 11502  0  5월13 pts/1  00:00:00 vi /appwas/tomcat/apache-tomcat-9.0.87/conf/server.xml
appluser 11661     1 34 13:41 ?        00:44:23 /appwas/opt/java11/bin/java -Djava.util.logging.config.file=/appwas/tomcat/apache-tomcat-9.0.87/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -javaagent:/appwas/tomcat/agent.java/scouter.agent.jar -Dscouter.config=/appwas/tomcat/agent.java/conf/scouter.conf -Djavax.net.ssl.trustStore=/appwas/opt/java11/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms10g -Xmx10g -XX:+UseG1GC -XX:G1HeapRegionSize=16m -XX:MaxGCPauseMillis=200 -XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/appwas/log/heapdump_%p.hprof -Dignore.endorsed.dirs= -classpath /appwas/tomcat/apache-tomcat-9.0.87/bin/bootstrap.jar:/appwas/tomcat/apache-tomcat-9.0.87/bin/tomcat-juli.jar -Dcatalina.base=/appwas/tomcat/apache-tomcat-9.0.87 -Dcatalina.home=/appwas/tomcat/apache-tomcat-9.0.87 -Djava.io.tmpdir=/appwas/tomcat/apache-tomcat-9.0.87/temp org.apache.catalina.startup.Bootstrap start
root     16628     1  0  6월04 ?      00:00:00 sudo view /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-02.log
root     16630 16628  0  6월04 pts/7  00:00:00 sudo view /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-02.log
root     16631 16630  0  6월04 pts/7  00:00:00 view /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-02.log
root     32249 28709  0 11:07 pts/19   00:00:02 tail -f /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out

[systemctl status tomcat]
● tomcat.service - Apache Tomcat 9
     Loaded: loaded (/etc/systemd/system/tomcat.service; enabled; preset: disabled)
     Active: active (running) since Thu 2025-06-19 13:41:21 KST; 2h 8min ago
    Process: 11650 ExecStart=/appwas/tomcat/apache-tomcat-9.0.87/bin/startup.sh (code=exited, status=0/SUCCESS)
   Main PID: 11661 (java)
      Tasks: 112
        CPU: 44min 23.716s
     CGroup: /system.slice/tomcat.service
             └─11661 /appwas/opt/java11/bin/java -Djava.util.logging.config.file=/appwas/tomcat/apache-tomcat-9.0.87/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -javaagent:/appwas/tomcat/agent.java/scouter.agent.jar -Dscouter.config=/appwas/tomcat/agent.java/conf/scouter.conf -Djavax.net.ssl.trustStore=/appwas/opt/java11/lib/security/cacerts -Djavax.net.ssl.trustStorePassword=changeit -Djdk.tls.ephemeralDHKeySize=2048 -Djava.protocol.handler.pkgs=org.apache.catalina.webresources -Dorg.apache.catalina.security.SecurityListener.UMASK=0027 -Xms10g -Xmx10g -XX:+UseG1GC -XX:G1HeapRegionSize=16m -XX:MaxGCPauseMillis=200 -XX:+UseStringDeduplication -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/appwas/log/heapdump_%p.hprof -Dignore.endorsed.dirs= -classpath /appwas/tomcat/apache-tomcat-9.0.87/bin/bootstrap.jar:/appwas/tomcat/apache-tomcat-9.0.87/bin/tomcat-juli.jar -Dcatalina.base=/appwas/tomcat/apache-tomcat-9.0.87 -Dcatalina.home=/appwas/tomcat/apache-tomcat-9.0.87 -Djava.io.tmpdir=/appwas/tomcat/apache-tomcat-9.0.87/temp org.apache.catalina.startup.Bootstrap start

[Tomcat 로그 에러 확인]
[Tomcat Log Errors - 2025-06-19]
에러 라인 수: 4

[에러 라인 내용]
19-Jun-2025 08:18:53.298 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log 명령 행 아규먼트:  -XX:+HeapDumpOnOutOfMemoryError
19-Jun-2025 11:56:19.161 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log 명령 행 아규먼트:  -XX:+HeapDumpOnOutOfMemoryError
19-Jun-2025 12:08:53.875 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log 명령 행 아규먼트:  -XX:+HeapDumpOnOutOfMemoryError
19-Jun-2025 13:41:21.930 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log 명령 행 아규먼트:  -XX:+HeapDumpOnOutOfMemoryError

[Tomcat 로그 디렉터리 상태]
-rwxr-xr-x 1 appluser was    410734  5월 13 17:51 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-13.log
-rwxr-xr-x 1 appluser was      8774  5월 14 08:27 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-14.log
-rwxr-xr-x 1 appluser was     17427  5월 15 15:39 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-15.log
-rwxr-xr-x 1 appluser was    247868  5월 16 17:47 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-16.log
-rwxr-xr-x 1 appluser was      2606  5월 18 06:17 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-18.log
-rwxr-xr-x 1 appluser was    109809  5월 19 08:56 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-19.log
-rw-r----- 1 appluser was    251261  5월 20 16:16 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-20.log
-rw-r----- 1 appluser was       431  5월 21 08:40 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-21.log
-rw-r----- 1 appluser was    260246  5월 22 15:26 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-22.log
-rw-r----- 1 appluser was      1302  5월 25 06:17 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-25.log
-rw-r----- 1 appluser was      2584  5월 26 08:49 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-26.log
-rw-r----- 1 appluser was   1583736  5월 27 19:10 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-27.log
-rw-r----- 1 appluser was    911327  5월 28 18:52 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-28.log
-rw-r----- 1 appluser was   1468130  5월 29 17:56 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-29.log
-rw-r----- 1 appluser was    747880  5월 30 17:04 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-05-30.log
-rw-r----- 1 appluser was      1303  6월  1 06:20 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-01.log
-rwxr-xr-x 1 appluser was  70114396  6월  2 09:44 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-02.gz
-rw-r----- 1 appluser was    760047  6월  2 17:39 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-02.log
-rw-r----- 1 appluser was    318241  6월  4 17:28 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-04.log
-rw-r----- 1 appluser was    644626  6월  5 17:53 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-05.log
-rwxr-xr-x 1 appluser was   2972612  6월  6 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-06.xz
-rwxr-xr-x 1 appluser was    276708  6월  7 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-07.xz
-rwxr-xr-x 1 appluser was    254448  6월  8 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-08.xz
-rw-r----- 1 appluser was      1302  6월  8 06:18 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-08.log
-rwxr-xr-x 1 appluser was    244520  6월  9 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-09.xz
-rw-r----- 1 appluser was    443980  6월  9 17:51 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-09.log
-rwxr-xr-x 1 appluser was   5302072  6월 10 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-10.xz
-rw-r----- 1 appluser was    879327  6월 10 18:24 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-10.log
-rwxr-xr-x 1 appluser was  15349368  6월 11 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-11.xz
-rw-r----- 1 appluser was    806928  6월 11 18:31 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-11.log
-rwxr-xr-x 1 appluser was   7191516  6월 12 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-12.xz
-rw-r----- 1 appluser was    363576  6월 12 17:17 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-12.log
-rwxr-xr-x 1 appluser was   5398500  6월 13 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-13.xz
-rw-r----- 1 appluser was    979544  6월 13 17:33 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-13.log
-rwxr-xr-x 1 appluser was   6727516  6월 14 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-14.xz
-rwxr-xr-x 1 appluser was    355660  6월 15 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-15.xz
-rw-r----- 1 appluser was      1302  6월 15 06:16 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-15.log
-rwxr-xr-x 1 appluser was    499712  6월 16 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-16.xz
-rw-r----- 1 appluser was    505204  6월 16 17:55 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-16.log
-rwxr-xr-x 1 appluser was   5319148  6월 17 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-17.xz
-rw-r----- 1 appluser was    792402  6월 17 18:19 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-17.log
-rwxr-xr-x 1 appluser was   9008704  6월 18 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-18.xz
-rw-r----- 1 appluser was   1562438  6월 18 18:41 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-18.log
-rwxr-xr-x 1 appluser was   4493296  6월 19 00:00 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out-2025-06-19.xz
-rw-r----- 1 appluser was    483568  6월 19 13:42 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.2025-06-19.log
-rwxr-xr-x 1 appluser was 299619500  6월 19 15:50 /appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out

[logrotate 판단 결과]
✅ logrotate 작동 중 (압축 로그 파일 존재)

[catalina.out 용량 (MB)]
286	/appwas/tomcat/apache-tomcat-9.0.87/logs/catalina.out (MB)

[포트 상태 확인]
포트 8080 → LISTEN 중
LISTEN     0      100                        *:8080                       *:*           
TIME-WAIT  0      0      [::ffff:10.110.18.51]:8080   [::ffff:10.110.18.20]:14227       
FIN-WAIT-2 0      0      [::ffff:10.110.18.51]:8080   [::ffff:10.110.18.20]:39035       
ESTAB      0      0      [::ffff:10.110.18.51]:8080   [::ffff:10.110.18.20]:26952       
ESTAB      0      0      [::ffff:10.110.18.51]:8080   [::ffff:10.110.18.20]:45607       
FIN-WAIT-2 0      0      [::ffff:10.110.18.51]:8080   [::ffff:10.110.18.20]:25891
포트 443 → LISTEN 중
ESTAB      0      0               10.110.18.51:49196         13.228.234.223:443

[context.xml Resource 설정 확인]
<Resource
        name="PIS_JNDI"
        auth="Container"
        type="javax.sql.DataSource"
        maxTotal="500"
        minIdle="10"
        maxIdle="30"
        maxWaitMillis="10000"
        username="pisuser"
        password="mdpispis0423("
        driverClassName="oracle.jdbc.OracleDriver"
        url="jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=10.110.10.196)(PORT=1529))(ADDRESS=(PROTOCOL=TCP)(HOST=10.110.10.198)(PORT=1529))(CONNECT_DATA=(SERVICE_NAME=PISPROD)(SERVER=DEDICATED)))"
	validationQuery="SELECT 1 FROM DUAL"
        />
[systemctl status firewalld]
● firewalld.service - firewalld - dynamic firewall daemon
     Loaded: loaded (/usr/lib/systemd/system/firewalld.service; enabled; preset: disabled)
     Active: active (running) since Thu 2025-05-08 14:10:41 KST; 1 month 11 days ago
       Docs: man:firewalld(1)
   Main PID: 1300 (firewalld)
      Tasks: 2
        CPU: 1min 23.117s
     CGroup: /system.slice/firewalld.service
             └─1300 /usr/bin/python3 /usr/sbin/firewalld --nofork --nopid
